<thead>
    <tr>
      <th class="w-1"><input class="form-check-input m-0 align-middle" type="checkbox" aria-label="Select all"></th>
      <th class="w-1"></th>
      {% for col in list_columns_display %}
      <th>
        <div class="dropdown">
          <a class="dropdown-toggle text-muted" href="#" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
            {% if col.filter_form_is_active %} <i class="fa-solid fa-gears"></i> {% endif %}
            {% if col.sort_direction == col.DIRECTION_ENUM.DESCENDING %} <i class="fa fa-sort-amount-desc"></i> {% endif %}
            {% if col.sort_direction == col.DIRECTION_ENUM.ASCENDING %} <i class="fa fa-sort-amount-asc"></i> {% endif %}
            {{ col.admin.label }} 
          </a>
          <div class="dropdown-menu dropdown-menu-arrow dropdown-menu-end" style="position: absolute; inset: 0px 0px auto auto; margin: 0px; transform: translate3d(0px, 17.5px, 0px);" data-popper-placement="bottom-end">
            <span class="dropdown-header">Сортировка {{ col.admin.label }}  <i class="fa fa-sort-amount-desc"></i></span>
            {% for o in col.sort_options %}
              <a class="dropdown-item {% if o.is_active %}active{% endif %}" 
                href="{{request.url.scheme}}://{{request.url.netloc}}{{request.url.path}}?{{o.urlencode}}">
                {{ o.label }}
              </a> 
            {% endfor %}
            <span class="dropdown-header">Фильтрация {{ col.admin.label }} <i class="fa fa-filter"></i></span>
            <div class="dropdown-item {% if col.filter_form_is_active %}active{% endif %}"> 
              <form method='get' class="list-filter-form">
                {% for field in col.filter_form %}
                  {% if field.type != 'HiddenField' %}
                  {{ field.label(class_="form-label col-sm-2 col-form-label") }}
                  {% endif %}
                  <div class="col-sm-10">
                    {% if field.errors %}
                    {{ field(class_=(field.render_kw.class or "form-control") + " is-invalid") }}
                    {% else %}
                    {{ field(class_=(field.render_kw.class or "form-control")) }}
                    {% endif %}
                    {% for error in field.errors %}
                    <div class="invalid-feedback">{{ error }}</div>
                    {% endfor %}
                  </div>
                {% endfor %}
                <div class="col-sm-10">
                  <div class="d-flex">
                    <a href="#" class="btn btn-link">Отмена</a>
                    <button type="submit" class="btn btn-primary ms-auto">Применить</button>
                  </div>
                </div>
              </form>
            </div>
            <!--<label class="dropdown-item"><input class="form-check-input m-0 me-2" type="radio"> 
              Без сортировки
            </label>
            <label class="dropdown-item"><input class="form-check-input m-0 me-2" type="radio"> 
              Возрастание
            </label>
            <label class="dropdown-item"><input class="form-check-input m-0 me-2" type="radio"> 
              Убывание
            </label>
            <div class="dropdown-divider"></div>
             <span class="dropdown-header">Фильтр</span> 
            <div class="dropdown-item">
              <a href="#" class="text-reset">Фильтр</a>
              <label class="form-check m-0 ms-auto">
                <input type="checkbox" class="form-check-input">
                Вкл.
              </label>
            </div>
            <label class="dropdown-item"><input class="form-check-input m-0 me-2" type="radio"> 
              Содержит 
            </label>
            <label class="dropdown-item"><input class="form-check-input m-0 me-2" type="radio"> 
              Не сожержит <i class="ti ti-equal-not"></i>
            </label>
            <a class="dropdown-item active" href="#">Без</a>
            <a class="dropdown-item" href="#">Возр.</a>
            <div class="dropdown-divider"></div>-->
          </div>
        </div>
      </th>
      {% endfor %}
    </tr>
  </thead>  